## Makefile automatically generated by NewTest.pl ##
# For more information on the different variables, and others you
# may define, see ${SOFT_DIR}/Makefile.skel and/or read the doc
## --------------Don't change the line below------------------ ##
include ${SOFT_WORKDIR}/env/compilation/compilevars.mk

LOCAL_NAME := toolpool/8955_ddr_check

LOCAL_API_DEPENDS :=    platform						\
                        platform/base/common			\
                        platform/chip/defs				\
                        platform/chip/regs/$(CT_ASIC)   \
                        platform/edrv/aud				\
                        platform/edrv/pmd


LOCAL_MODULE_DEPENDS := target \
                        platform/chip/hal \
                        platform/edrv/memd \
                        platform/edrv/rfd \
                        platform/edrv/rfd/${XCV_MODEL} \
                        platform/base/std \
                        platform/edrv/pmd \
                        platform/chip/boot \
                        platform/service/base/vds

IS_ENTRY_POINT := yes

LOCAL_EXPORT_FLAG += _FLASH_PROGRAMMER
LOCAL_EXPORT_FLAG += BOOT_MONITOR_NO_HAL_OPEN

# Discard charger code and depencies to SX.
LOCAL_EXPORT_FLAG += PMD_NO_CHARGER

# Disable trace as there is no OS in flash programmer
#LOCAL_EXPORT_FLAG += SXS_NO_PRINTF SXS_NO_DUMP HAL_NO_PRINTF EDRV_NO_TRACE

# Disable profiling and SPI register debugging
ifneq "${CT_ASIC}" "greenstone"
export NO_PROFILE := 1
PROFILE_FLAGS := HAL_PROFILE_ON_BUFFER HAL_PROFILE_NOT_ON_ROMULATOR \
                 HAL_PROFILING PAL_PROFILING SX_PROFILING
TARGET_EXPORT_FLAG := $(filter-out $(PROFILE_FLAGS),$(TARGET_EXPORT_FLAG))
GLOBAL_EXPORT_FLAG := $(filter-out $(PROFILE_FLAGS),$(GLOBAL_EXPORT_FLAG))

export NO_SPI_REG_DEBUG := 1
TARGET_EXPORT_FLAG := $(filter-out SPI_REG_DEBUG,$(TARGET_EXPORT_FLAG))
GLOBAL_EXPORT_FLAG := $(filter-out SPI_REG_DEBUG,$(GLOBAL_EXPORT_FLAG))
LDPPFLAGS := $(filter-out -DSPI_REG_DEBUG,$(LDPPFLAGS))
endif # CT_ASIC != greenstone

# Check if forcing to setup all GPIO pins as input mode and set all GPO pins to low level
FORCE_GPIO_INPUT_GPO_LOW ?= 1
ifeq "${FORCE_GPIO_INPUT_GPO_LOW}" "1"
LOCAL_EXPORT_FLAG += FORCE_GPIO_INPUT_GPO_LOW
endif

# Avoids TGT to load the UCTLS services (mass storage, traces, etc) in
# the target configuration structure. This will avoid the linker to include
# the useless UCTLS function in the lodfile. Flash prog manages the Host
# over USB itself.
export UCTLS_SERVICE := no

# We always want to compile the flash programmer as a Ramrun.
export CT_RAMRUN := 1

# Do not include ROM content in the final elf file
export ROM_IN_FLASH_ELF := 0

# Do not generate BCPU image
export NO_BCPU_IMAGE := 1

# Generates the CoolWatcher headers automatically.
# This is for the flash programmer XMD.
#AUTO_XMD2H ?= yes

# Special linker to get everything in internal sram.
LINKER_MASTER := modem2G_flashprogrammer_master.ld

C_SRC := ${wildcard *.c}
S_SRC := ${wildcard *.S}
%/main.o: CT_MIPS16_CFLAGS=

## --------------Don't change the line below------------------ ##
include ${SOFT_WORKDIR}/env/compilation/compilerules.mk
